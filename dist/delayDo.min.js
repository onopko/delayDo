/*
 *  delayDo - v1.0.0
 *  
 *  
 *
 *  Made by Takehiko Ono
 *  Under MIT License
 */
!function(a,b,c){"use strict";function d(a,b){this.queueObj={},this.init(a,b)}var e="delayDo",f=b.performance&&(b.performance.now||b.performance.webkitNow||b.performance.mozNow||b.performance.msNow||b.performance.oNow),g=function(){return f&&f.call(b.performance)||(new Date).getTime()},h=function(){return b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.msRequestAnimationFrame||b.oRequestAnimationFrame||function(a){b.setTimeout(a,1e3/60)}}(),i=function(a,b){var c=0,d=g(),e=!1,f=function(){var i=g();if(c+=i-d,d=i,c>=b){var j=Math.floor(c/b);c-=j*b,a(),j=void 0}e||h(f),i=void 0};return f(),{play:function(){e=!1,f()},pause:function(){e=!0},step:function(){e=!0,c=b,f()},toggle:function(){e?this.play():this.pause()}}};a.extend(d.prototype,{init:function(a,b){var c=this;c.queueObj[a]||(c.queueObj[a]={queue:[],timer:null,cancel:function(){return c.queueObj[a].timer?(c.queueObj[a].timer.pause(),c.queueObj[a].timer=null,c.queueObj[a]=null,void(c=void 0)):!1}}),this.push(a,b)},push:function(a,b){this.queueObj[a].queue.push(b)},resume:function(b){var d=a.extend({timerId:null,interval:100,complete:null},b),e=this;return e.queueObj[d.timerId]?(e.queueObj[d.timerId].cancel(),e.queueObj[d.timerId].timer=i(function(){var a=e.queueObj[d.timerId].queue.shift();a?a():(e.queueObj[d.timerId].cancel(),"function"==typeof d.complete&&d.complete(),e=a=void 0)},d.interval),this):c},cancel:function(a){return this.queueObj[a]?(this.queueObj[a].cancel(),this):c}}),a[e]=function(b,f){return"string"==typeof b&&"function"==typeof f?(a.data(this,"plugin_"+e)?a.data(this,"plugin_"+e).push(b,f):a.data(this,"plugin_"+e,new d(b,f)),this):c},a[e].resume=function(b){a.data(a,"plugin_"+e).resume(b)},a[e].cancel=function(b){a.data(a,"plugin_"+e).cancel(b)}}(jQuery,window);